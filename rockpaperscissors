from random import randint
from mango import *

class playGame :

    # import tallies from database up here

    # constructs game
    def __init__(self):
        print('welcome!')

    # performs game functionality
    def newGame(self):
        # get the user input here
        print('rock (1), paper (2), scissors (3) ...')
        choice = int(input())
        while choice != 1 and choice != 2 and choice != 3:
            print('rock (1), paper (2), scissors (3) ...')
            choice = int(input())
        print('... shoot!')

        # compute random
        computer = randint(1,3)

        # nested method to make number / word conversion faster
        def num_to_word(int):
            if int == 1:
                return 'rock'
            elif int == 2:
                return 'paper'
            else:
                return 'scissors'

        print('the computer chose ' + num_to_word(computer))

        # calculate if player wins or not
        if (choice == computer):
            print('you tied!')
        elif (choice - computer) == (1 or -2):
            print('you won!')
        else:
            print('you lost!')

# initializing game
# commented out to work on the db update function
# game = playGame()
# print('do you want to play rock paper scissors? (y/n)')
# while input() == 'y':  
#    game.newGame()
#    print('do you want to play again? (y/n)')

# write modifyable input to reduce redunancy


# put in function later - this just updates the ones field by one
newT = mango["tallies"].update_one(
    {"_id" : 1},
    {"$inc":
        {"one.count": 1}
    }
)
